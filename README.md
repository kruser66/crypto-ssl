# Обмен сообщениями SSl (TLS)

Черновой вариант сервера и клиента для обмена сообщениями шифрованными сертификатами SSL.
- Сервер ожидает сообщения от клиентов.
- При получении сообщения устанавливается связь и отправляется клиенты ответ.
- Когда сообщения прекращаются от клиента (отключился или аварийное отключение) происходит disconnect.

- Клиент отправляет на адрес и порт сервера сообщение
- Клиент получает ответ от сервера
- В случае отсутствия связи с сервером ожидает 10 секунд для следующей попытки

## Вариант работы в консоли локально

Python 3.5 должен быть установлен. Создаем локальное окружение.

```bash
python -m venv venv
```

Для работы понадобятся самоподписанные сертификаты, создаем их командой и копируем в нужные папки.

```bash
cd server
openssl req -new -newkey rsa:3072 -days 365 -nodes -x509 -keyout server.key -out server.crt -days 365 -nodes -subj "/CN=127.0.0.1"
cp server.crt ../client
cd ..
```

Сервер использует порт по-умолчанию: `65432` , если этот порт занят, установите нужный указав перемнную окружения:

```bash
export PORT=YOUR_POT_NUMBER
```

Запускаем сервер:

```bash
cd server
python server.py
```

В отдельных окнах терминала можно запустить несколько клиентов.
По-умолчанию отправляется сообщение `'Hello, server!'` с интервалом `10` секунд/

```bash
cd client
python client.py
```

Можно запустить клиента со своим сообщением и периодичность его отправки в секундах.

```bash
python client.py --message 'Another message.' --interval 15
```


